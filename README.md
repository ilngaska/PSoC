# Лабораторна робота №1: Встановлення інструментів та створення, відлагодження та виконання проєктів у інтегрованому середовищі PSoC® CreatorTM

## Мета роботи

ознайомитися з функціональними можливостями інтегрованого середовища Logic та PSoC® CreatorTM 4.4, навчитися створювати, відлагоджувати та виконувати проекти, використовуючи засоби інтегрованого середовища PSoC® CreatorTM.
---

## ПОРЯДОК ВИКОНАННЯ РОБОТИ

## Встановлення інструментів PSOC Creator та Logic

1. Використовуючи інструкцію з встановлення встановити середовище розробки PSOC Creator. PSoC Creator – це інтегроване середовище розробки (IDE) від Cypress Semiconductor для проєктування та програмування мікроконтролерів PSoC (Programmable System-on-Chip).
2. Використовуючи інструкцію з встановлення встановити логічний аналізатор Logic від saleae.
    Логічний аналізатор – це електронний прилад для захоплення, відображення та аналізу цифрових сигналів у реальному часі.
Основні функції:
• Захоплення багатоканальних сигналів
• Декодування протоколів (I2C, SPI, UART тощо)
• Візуалізація часових діаграм
• Виявлення помилок у цифрових схемах
Застосовується у налагодженні мікроконтролерів, цифрових шин і вбудованих
систем.

---
## Створення першого проєкту

1. Запустити інтегроване середовище PSoC® CreatorTM.

2. Вивчити розділи головного меню інтегрованого середовища PSoC® CreatorTM, ознайомитися з пунктами і підпунктами кожної вкладки головного меню. При вивченні пунктів меню звернути увагу на основні «гарячі» клавіші швидкого виконання команд.

3. Навчитися користуватися вбудованою підсистемою допомоги меню Help.

4. Створити проєкт.

5. Ознайомитися з програмованою системою на чипі CY8CKIT-042 PSoC® 4 Pioneer Kit. Підключити PSoC® 4 Pioneer Kit до комп’ютера через USB.

6. В каталозі Cypress, обираємо папку Port and Pins та перетягуємо на сторінку схеми два компоненти (рис. 1) вхідний Digital Input Pin [v2.20] та вихідний Digital Output Pin [v2.20] піни.

<img width="1599" height="899" alt="Вибір потрібних компонентів" src="https://github.com/user-attachments/assets/c4982882-c730-4ab8-9296-27af5c6164fe" />
Рис. 1 - Вибір потрібних компонентів

7. Виконати налаштування компонентів Digital Input Pin [v2.20] (Pin_1) та Digital Output Pin [v2.20] (Pin_2). Двічі клацнувши по компоненту переходимо у вікно налаштувань Configure, де змінюємо назву Name (наприклад, Pin_1 назвемо Button, а Pin_2– LED), та виконуємо загальні налаштування (вкладка General). Обиремо Тип Type, Режим роботи Drive mode та Початковий стан Initial drive state.

8. Переходимо до моделювання роботи нашого проєкту. У провіднику робочого простору Workspace Explorer заходимо на вкладу Pins.
Для коректної роботи проєкту, нам необхідно налаштувати піни згідно схематики. Ознайомитись з схемою можна за посиланням: https://bit.ly/3EZvjbs. Знаходимо на схемі світлодіод та кнопку. Світлодіод RGB LED має три піни P1.6 (Red / Червоний), P0.2 (Green / Зелений) та P0.3 (Blue / Синій), які використовуються для керування ним. Кнопка USER BUTTON підключена на пін P0.7. Отже, виконаємо конфігурацію пінів (рис. 2). Зверніть увагу, що виконати конфігурацію можна за допомогою вибору відповідного порту з випадаючого списку, або методом перетягування Drag and Drop.
<img width="1599" height="625" alt="Конфігурація пінів." src="https://github.com/user-attachments/assets/2d123113-5360-45f4-a933-0aa60bd5428d" />
Рис. 2 - Конфігурація пінів.

9. Після цього потрібно перегенерувати проект, щоб створились API для керування кнопкою та світлодіодом. Для того аби виконати генерування проєкту обираємо на панелі інструментів вкладку Build → Build Project (Shift+F6).

10. Далі, відкриваємо файл main.c та пишемо код для опрацювання кнопки та вмикання/вимикання світлодіода, в залежності від стану кнопки:
```
#include "project.h"
int main(void)
{
CyGlobalIntEnable; /* Enable global interrupts. */
for(;;)
{
if(Button_Read() == 1)
{
LED_Write(0);
}
else
{
LED_Write(1);
}
}
}
```
11. Скомпілювати та запрограмувати проєкт в PSoC® 4 Pioneer Kit. Build → Compile File (Ctrl+F6) → Debug → Program (Ctrl+F5).

12. Змініть колір діоду та перегенеруйте проєкт. Відлагодьте та запрограмуйте модифікований проєкт у PSoC® 4 Pioneer Kit. Build → Clean and Build Project → Program (Ctrl+F5).
Програма працює за принципом скінченного автомату або детекції переднього фронту сигналу:
    1) Зчитується поточний стан кнопки.
    2) Порівнюється з попереднім станом (lastButtonState).
    3) Якщо стан змінився з "0" на "1" (натискання):
    4) Змінюється значення змінної режиму, генеруються випадкові числа (0 або 1).
    5) Виконується затримка CyDelay(200) для ігнорування брязгу контактів.
    6) Залежно від значення змінної, на відповідні піни подається високий (1) або низький (0) рівень сигналу.

```
#include "project.h"
#include <stdlib.h>

int main(void)
{
    CyGlobalIntEnable; 
    int lastState = 0;
    for(;;)
    {
      int currentState = Button_Read();
      if(currentState == 1 && lastState == 0)
        { 
           LED_Red_Write(rand() % 2);
           LED_Green_Write(rand() % 2);
           LED_Blue_Write(rand() % 2);
          
        CyDelay(200);
        }

        lastState = currentState;
    }
}

```
13. Збережіть проєкт.

---

## Висновки

В ході виконання роботи було ознайомлено з функціональними можливостями інтегрованого середовища Logic та PSoC® CreatorTM 4.4, створено, відлагоджено та
виконано проекти, використовуючи засоби інтегрованого середовища PSoC® CreatorTM.

---

### Як використовувати цей репозиторій:

1. Клонувати репозиторій `git clone https://github.com/ilngaska/PSoC.git`
2. Відкрити проєкт у **PSoC Creator**.
3. Зібрати проєкт (**Build**) та прошити мікроконтролер (**Program**).
